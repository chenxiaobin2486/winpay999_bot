# WinPay999 Telegram 记账机器人 🤖

这是一个基于 Python 编写的 Telegram 记账机器人，支持自然语言指令，无需加斜杠，专为财务管理设计。

---

## ✅ 功能概览

- 入款、下发、出款自动记账
- 支持自然语法，如 `+1000`、`入款1000`
- 多种指令格式支持，无需加 `/`
- 自动汇率、费率计算，保留小数
- 出款和下发分开统计
- 地址验证、权限管理、账单日切
- Telegram 群组隔离管理

---

## 🧠 指令示例

| 功能         | 指令示例                   | 说明                                      |
|--------------|----------------------------|-------------------------------------------|
| 开始记账     | 开始记账                   | 开始记录账单数据                          |
| 结束记账     | 结束记账                   | 停止并清除当日账单                        |
| 入款         | 入款1000、+1000、1000      | 记录入款金额                              |
| 下发         | 下发1000                   | 记录下发金额，计入总下发                  |
| 出款         | 出款1000                   | 记录出款金额，仅计入代付出款              |
| 撤销         | 撤销、撤销出款             | 撤销当天最后一笔入款/出款                 |
| 汇率设置     | 设置汇率7.2                | 设置入款汇率（保留三位小数）              |
| 费率设置     | 设置费率0.5%               | 设置入款费率（百分比）                    |
| 出款汇率     | 设置出款汇率7.100          | 设置出款专用汇率                          |
| 出款费率     | 设置出款费率0.5%           | 设置出款专用费率                          |
| 账单查询     | 账单、+0                   | 查看当日账单总览                          |
| 删除账单     | 删除账单                   | 删除当日所有账目记录                      |
| 地址验证     | 发送钱包地址                | 自动记录地址使用记录                      |
| 设置操作人   | 设置操作人@用户名          | 添加权限账号                              |
| 删除操作人   | 删除操作人@用户名          | 移除权限账号                              |
| 查看操作人   | 查看操作人                 | 列出当前操作人列表                        |
| 设置日切时间 | 账单日切08:00              | 设置每天账单切割时间                      |
| 取消日切     | 取消账单日切               | 关闭日切功能，账目持续累加                |
| 查看日切     | 查看日切                   | 查看当前日切时间                          |
| 出款应收     | 应收出款                   | 自动显示金额 × 费率 ÷ 汇率               |
| 已回出款     | 已回+100                   | 记录收到的出款金额                        |

---

## 🚀 部署方式（Render）

1. Fork 本仓库或上传到你自己的 GitHub 仓库。
2. 在 [Render](https://render.com/) 上新建 Web Service，绑定你的仓库。
3. 设置环境变量：
   - `BOT_TOKEN`：你的 Telegram Bot Token（如：`123456:ABCDEF...`）
4. 添加 `Procfile` 文件，内容为：
